//Cabin short
@PART[dsak_cabin]:NEEDS[IFILS]
{
	//@entryCost = 12000
	@cost = 6400
	@description = Reinventing the classic cabin was a decision met with surprisingly little criticism from investers. In our best interest (and that of the passengers, of course), we gutted the classic cabin and refitted the intenals with just two recliners, a few decorative fixed things, an LED screen and left enough room for little ones...if they so happen...to merrily wiggle around.
	@tags = cck-lifesupport life support cabin mk2
	@category = Utility
	-MODEL {}
	MODEL
	{
		model = Squad/Parts/Utility/mk2CrewCabin/model
		texture = mk2CrewCabin, DeepSky/AirlineKuisine/TexturesMk2/cabin_snx
		texture = mk2CrewCabin_LUM, DeepSky/AirlineKuisine/TexturesMk2/cabin_LUM
	}
	
	RESOURCE
	{
		name = ElectricCharge
		amount = 100
		maxAmount = 100
	}
	
	RESOURCE
	{
		name = LifeSupport
		amount = 5
		maxAmount = 5
	}
}

//Cabin long
@PART[dsak_cabin2]:NEEDS[IFILS]
{
	//@entryCost = 15000
	@cost = 8800
	@description = As is the case with the short Rec Centre, this one enables crew to make a great or greater home in a spaceplane, but the scope of use is more focused. Staff and clientelle alike can expect to find truly first class amenities or community facilities and lots of private space here, rather than live in the game room. We've built a concept space kitchen into this one, with novel facilities which require a masterful scientist in order to operate at top performance and feed a small group at once.
	@tags = cck-lifesupport life support cabin mk2
	@category = Utility
	-MODEL {}
	MODEL
	{
		model = DeepSky/AirlineKuisine/BorrowedParts/M2Xlab/M2Xlab
		texture = mk2CrewCabin, DeepSky/AirlineKuisine/TexturesMk2/cabin2_snx
		texture = mk2CrewCabin_LUM, DeepSky/AirlineKuisine/TexturesMk2/cabin2_LUM
	}
	
	MODULE
	{
		name = ModuleResourceConverter
		ConverterName = Space Kitchen
		StartActionName = Kiss the Cook
		StopActionName = Dismiss the Cook
		AutoShutdown = false
		GeneratesHeat = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		UseSpecialistHeatBonus = true
		ExperienceEffect = SpecialExperimentSkill
		EfficiencyBonus = 1
	 
		INPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = 12
		}

		OUTPUT_RESOURCE
		{
			ResourceName = LifeSupport
			Ratio = 0.00093
			DumpExcess = false
			FlowMode = ALL_VESSEL
		}
	}
	
	RESOURCE
	{
		name = ElectricCharge
		amount = 400
		maxAmount = 400
	}
	
	RESOURCE
	{
		name = LifeSupport
		amount = 20
		maxAmount = 20
	}
}

//Processor A: Greenhouse
@PART[dsak_proc_a]:NEEDS[IFILS]
{
	@entryCost = 13300
	@cost = 3310
	@title = Mk2 Inline Greenhouse
	@description = Deep Sky's Airline Kuisine division sought to ensure that those long flights on a spaceplane or other craft that straddle the line between a plane and a station are more livable. No such prospect is complete without a form-fitting greenhouse module.
	@tags = cck-lifesupport
	@category = Utility
	@MODEL
	{
		@model = Squad/Parts/FuelTank/mk2FuselageShort/FuselageShortLFO
		@texture = mk2FuselageShort, DeepSky/AirlineKuisine/TexturesMk2/processors_snx
	}
	
	MODULE
	{
		name = ModuleGenerator
		requiresAllInputs = true
		isAlwaysActive = true
		INPUT_RESOURCE
		{
			name = ElectricCharge
			rate = 4
		}
		OUTPUT_RESOURCE
		{
			name = LifeSupport
			rate = 0.000093
		}
	}
	
	RESOURCE
	{
		name = LifeSupport
		amount = 0
		maxAmount = 5
	}
}

//Processor B: Fuel Cell
@PART[dsak_proc_b]:NEEDS[IFILS]
{
	@entryCost = 6000
	@cost = 2000
	@title = Mk2 Solid Fuel Cell Array
	@description = With experience like ours, a heap of coffee and snacks, and a few locked doors we were able to produce a fuel cell that consumes Ore! ...Don't tell the USI people.
	@tags = mk2 fuel cell ore power
	@category = Electrical
	@MODEL
	{
		@model = Squad/Parts/FuelTank/mk2FuselageShort/FuselageShortLiquid
		@texture = mk2FuselageShort, DeepSky/AirlineKuisine/TexturesMk2/processors_snx
	}
	
	MODULE
	{
		name = ModuleResourceConverter
		ConverterName = Fuel Cell
		StartActionName = Start Fuel Cell
		StopActionName = Stop Fuel Cell
		ToggleActionName = Toggle Fuel Cell
		FillAmount = 0.95
		AutoShutdown = false
		GeneratesHeat = false
		UseSpecialistBonus = false

		 
		INPUT_RESOURCE
		{
			ResourceName = Ore
			Ratio = 0.05
			FlowMode = STAGE_PRIORITY_FLOW
  		}
		
		OUTPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = 24
			DumpExcess = false
		}
	}
}

//Processor C: ISRU
@PART[dsak_proc_c]:NEEDS[IFILS]
{
	@entryCost = 18300
	@cost = 2270
	@title = Mk2 Convert-O-Tron
	@description = With a rather obvious lack of options to choose from for packing bonus stuff onto a spaceplane which directly concern keeping the crew alive, we decided that maybe we should borrow from our template from Wild Blue Industries and ship an inline ISRU. Surviving while adrift is good... But having a means to help the return is also good.
	@category = Utility
	@tags = mk2 isru convert ore lf liquidfuel oxid
	@MODEL
	{
		@model = Squad/Parts/FuelTank/mk2FuselageShort/FuselageShortMono
		@texture = mk2FuselageShort, DeepSky/AirlineKuisine/TexturesMk2/processors_snx
	}
	
	MODULE
	{
		name = ModuleOverheatDisplay
	}

	MODULE
	{
		name = ModuleResourceConverter
		ConverterName = Lf+Ox
		StartActionName = Start ISRU [Lf+Ox]
		StopActionName = Stop ISRU [Lf+Ox]	 
		AutoShutdown = true
		TemperatureModifier
		{
			key = 0 60000
			key = 750 30000
			key = 1000 6000
			key = 1250 2000	
			key = 2000 80	
			key = 4000 0
		}				
		GeneratesHeat = true
		DefaultShutoffTemp = .8
		ThermalEfficiency 
		{
			key = 0 0 0 0
			key = 500 0.1 0 0
			key = 1000 1.0 0 0
			key = 1250 0.1 0 0
			key = 3000 0 0 0 
		}


		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		ExperienceEffect = ConverterSkill
		EfficiencyBonus = 0.6

		 
		 INPUT_RESOURCE
		 {
			ResourceName = Ore
			Ratio = 0.4
			FlowMode = STAGE_PRIORITY_FLOW
  		 }
		 INPUT_RESOURCE
		 {
			ResourceName = ElectricCharge
			Ratio = 30
		 }
		 OUTPUT_RESOURCE
		 {
			ResourceName = LiquidFuel
			Ratio = 0.36
			DumpExcess = false
			FlowMode = STAGE_PRIORITY_FLOW
		 }
		 OUTPUT_RESOURCE
		 {
			ResourceName = Oxidizer
			Ratio = 0.44
			DumpExcess = false
			FlowMode = STAGE_PRIORITY_FLOW
		 }
	}

	MODULE
	{
		name = ModuleResourceConverter
		ConverterName = Monoprop
		StartActionName = Start ISRU [Monoprop]
		StopActionName = Stop ISRU [Monoprop]
		AutoShutdown = true
		TemperatureModifier
		{
			key = 0 60000
			key = 750 30000
			key = 1000 6000
			key = 1250 2000	
			key = 2000 80	
			key = 4000 0
		}				
		GeneratesHeat = true
		DefaultShutoffTemp = .8
		ThermalEfficiency 
		{
			key = 0 0 0 0
			key = 500 0.1 0 0
			key = 1000 1.0 0 0
			key = 1250 0.1 0 0
			key = 3000 0 0 0 
		}

		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		ExperienceEffect = ConverterSkill
		EfficiencyBonus = 0.6

		 
		 INPUT_RESOURCE
		 {
			ResourceName = Ore
			Ratio = 0.4
		 }
		 INPUT_RESOURCE
		 {
			ResourceName = ElectricCharge
			Ratio = 30
		 }
		 OUTPUT_RESOURCE
		 {
			ResourceName = MonoPropellant
			Ratio = 0.8
			DumpExcess = false
		 }
	}


	MODULE
	{
		 name = ModuleResourceConverter
		 ConverterName = LiquidFuel
		 StartActionName = Start ISRU [LqdFuel]
		 StopActionName = Stop ISRU [LqdFuel]
		AutoShutdown = true
		TemperatureModifier
		{
			key = 0 60000
			key = 750 30000
			key = 1000 6000
			key = 1250 2000	
			key = 2000 80	
			key = 4000 0
		}				
		GeneratesHeat = true
		DefaultShutoffTemp = .8
		ThermalEfficiency 
		{
			key = 0 0 0 0
			key = 500 0.1 0 0
			key = 1000 1.0 0 0
			key = 1250 0.1 0 0
			key = 3000 0 0 0 
		}
		
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		ExperienceEffect = ConverterSkill
		EfficiencyBonus = 0.6

		 
		 INPUT_RESOURCE
		 {
			ResourceName = Ore
			Ratio = 0.36
			FlowMode = STAGE_PRIORITY_FLOW
  		 }
		 INPUT_RESOURCE
		 {
			ResourceName = ElectricCharge
			Ratio = 30
		 }
		 OUTPUT_RESOURCE
		 {
			ResourceName = LiquidFuel
			Ratio = 0.72
			DumpExcess = false
			FlowMode = STAGE_PRIORITY_FLOW
		 }
	}

	
	MODULE
	{
		 name = ModuleResourceConverter
		 ConverterName = Oxidizer
		 StartActionName = Start ISRU [Ox]
		 StopActionName = Stop ISRU [Ox]
		AutoShutdown = true
		TemperatureModifier
		{
			key = 0 60000
			key = 750 30000
			key = 1000 6000
			key = 1250 2000	
			key = 2000 80	
			key = 4000 0
		}				
		GeneratesHeat = true
		DefaultShutoffTemp = .8
		ThermalEfficiency 
		{
			key = 0 0 0 0
			key = 500 0.1 0 0
			key = 1000 1.0 0 0
			key = 1250 0.1 0 0
			key = 3000 0 0 0 
		}

		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		ExperienceEffect = ConverterSkill

		EfficiencyBonus = 0.6

		 
		 INPUT_RESOURCE
		 {
			ResourceName = Ore
			Ratio = 0.44
			FlowMode = STAGE_PRIORITY_FLOW
  		 }
		 INPUT_RESOURCE
		 {
			ResourceName = ElectricCharge
			Ratio = 30
		 }
		 OUTPUT_RESOURCE
		 {
			ResourceName = Oxidizer
			Ratio = 0.88
			DumpExcess = false
			FlowMode = STAGE_PRIORITY_FLOW
		 }
	}
}